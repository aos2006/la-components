@import "../../../styles/src/vars/constants.styl";

size($width, $height) {
  width: $width;
  height: $height;
}

square($size) {
 size($size, $size);
}


button-size($height, $padding, $font-size, $border-radius)
  padding $padding
  font-size $font-size
  border-radius $border-radius
  height $height


button-disabled()
  &.disabled, &[disabled]
    &, &:hover, &:focus, &:active, &.active
      button-color($btn-disable-color, $btn-disable-bg, $btn-disable-border)


button-color($color, $background, $border)
  color $color
  background-color $background
  border-color $border

button-group-base()
  position relative
  display inline-block
  > .btn
    position relative
    line-height ($btn-height-base - 2px)
    &:hover, &:focus, &:active, &.active
      z-index 2
    &:disabled
      z-index 0
  .lg > .btn
    button-size($btn-height-lg, $btn-padding-lg, $btn-font-size-lg, $btn-border-radius-base)
    line-height ($btn-height-lg - 2px)
  .sm > .btn
    button-size($btn-height-sm, $btn-padding-sm, $font-size-base, $btn-border-radius-sm)
    line-height ($btn-height-sm - 2px)
    > :global(.lat-icon)
      font-size $font-size-base

btn()
  display inline-block
  font-weight $btn-font-weight
  text-align center
  touch-action manipulation
  cursor pointer
  background-image none
  border $border-width-base $border-style-base transparent
  white-space nowrap
  button-size($btn-height-base, $btn-padding-base, $font-size-base, $btn-border-radius-base)
  user-select none
  transition all 0.3s ease-in-out
  position relative
  > :global(.lat-icon)
    line-height 1
  &, &:active, &:focus
    outline 0
  &:not([disabled]):hover
    text-decoration none
  &:not([disabled]):active
    outline 0
    transition none
  &.disabled, &[disabled]
    cursor not-allowed
    > *
      pointer-events none
  &.block
    display: block
    padding: 0
    & + &
      margin-top: 10px
      &.big
        margin-top: 16px
  &.big
    button-size($btn-height-big, $btn-padding-lg, $btn-font-size-lg, $btn-border-radius-base)
  &.lg
    button-size($btn-height-lg, $btn-padding-lg, $btn-font-size-lg, $btn-border-radius-base)
  &.sm
    button-size($btn-height-sm, $btn-padding-sm, $btn-font-size-sm, $btn-border-radius-sm)
    > :global(.lat-icon) + span,
    > span + :global(.lat-icon)
      margin-left: 0.3em;

btn-primary()
  button-color($btn-primary-color, $btn-primary-bg, $btn-primary-bg)
  &:hover, &:focus
    button-color($btn-primary-color, $primary-4, $primary-4)
  &:active, &.active
    button-color($btn-primary-color, $primary-6, $primary-6)
  button-disabled()

btn-default()
  button-color(#868788, $btn-default-bg, $btn-default-border)
  &:hover, &:focus, &.active
    button-color(#fff, $primary-5, transparent)
  &:active
    button-color(#fff, $primary-6, transparent)
  &:after
    border-color $primary-5
  button-disabled()

btn-ghost()
  button-color(#fff, transparent,transparent)
  &:hover, &:focus
    button-color(#fff, rgba(#000, .2), transparent)
  &:active, &.active
    button-color(#fff, rgba(#000, .3), transparent)

  button-disabled()
  &.disabled, &[disabled]
    &, &:hover, &:focus, &:active, &.active
      button-color($btn-default-border, transparent, $btn-default-border)


btn-danger()
  $color = $btn-danger-color;
  $background = $btn-danger-bg;
  $border = $btn-danger-border;
  button-color($color, $background, $border)
  &:hover
    button-color($btn-primary-color, $color, $color)
  &:focus
    button-color($color, rgb(255, 255, 255, 1), $color)
  &:active, &.active
    button-color($btn-primary-color, $color, $color)
  &:after
    border-color $btn-danger-color

  button-disabled()

btn-circle()
  square($btn-circle-size)
  button-size($btn-circle-size, 0, ($font-size-base + 2px), 50%)
  &.big
    square($btn-circle-size-big)
    button-size($btn-circle-size-big, 0, ($btn-font-size-lg + 2px), 50%)
  &.lg
    square($btn-circle-size-lg)
    button-size($btn-circle-size-lg, 0, ($btn-font-size-lg + 2px), 50%)
  &.sm
    square($btn-circle-size-sm)
    button-size($btn-circle-size-sm, 0, $font-size-base, 50%)

btn-bay()
  $color = #fff;
  $background = #3dbd7d;
  $border = transparent;
  button-color($color, $background, $border)
  &:hover, &:focus
    button-color($color, lighten($background, 10%), $border)
  &:active, &.active
    button-color($color, darken($background, 10%), $border)
  &:after
    border-color $background
  button-disabled()

btn-sale()
  $color = #fff;
  $background = #e36776;
  $border = transparent;
  button-color($color, $background, $border)
  &:hover, &:focus
    button-color($color, lighten($background, 10%), $border)
  &:active, &.active
    button-color($color, darken($background, 10%), $border)
  &:after
    border-color $background
  button-disabled()

btn-link()
  $color = $link-color;
  $background =  transparent;
  $border = transparent;
  button-color($color, $background, $border)
  > *
    vertical-align: bottom
  &:hover, &:focus, &:active
    button-color(#0024F7, $background, $border)
  &.active
    button-color(#3DBD7D, $background, $border)
  &:after
    border-color transparent
  button-disabled()
  &.disabled, &[disabled]
    &, &:hover, &:focus, &:active, &.active
      button-color($btn-default-border, transparent, transparent)

btn-group()
  button-group-base()
  .btn + .btn, .btn + &, span + .btn, .btn + span, & + .btn, & + &
    margin-left -1px
  .btn:not(:first-child):not(:last-child)
    border-radius 0
  > .btn:first-child, > span:first-child > .btn
    margin-left 0
  > .btn:first-child:not(:last-child), > span:first-child:not(:last-child) > .btn
    border-bottom-right-radius 0
    border-top-right-radius 0
  > .btn:last-child:not(:first-child), > span:last-child:not(:first-child) > .btn
    border-bottom-left-radius 0
    border-top-left-radius 0
  & > &
    float left
  & > &:not(:first-child):not(:last-child) > .btn
    border-radius 0
  & > &:first-child:not(:last-child)
    > .btn:last-child
      border-bottom-right-radius 0
      border-top-right-radius 0
      padding-right 8px
  & > &:last-child:not(:first-child) > .btn:first-child
    border-bottom-left-radius 0
    border-top-left-radius 0
    padding-left 8px

